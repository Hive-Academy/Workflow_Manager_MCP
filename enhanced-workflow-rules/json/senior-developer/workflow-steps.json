{
  "workflowSteps": [
    {
      "name": "mandatory_context_consumption_and_setup",
      "displayName": "MANDATORY: Context Consumption and Implementation Setup",
      "description": "Consume existing strategic context and setup implementation environment without re-analysis",
      "sequenceNumber": 1,
      "isRequired": true,
      "estimatedTime": "10-15 minutes",
      "stepType": "ACTION",
      "behavioralContext": {
        "approach": "MANDATORY consumption of existing comprehensive context without redundant analysis",
        "principles": [
          "WORKFLOW STOPPER: Cannot proceed without consuming existing codebaseAnalysis",
          "NEVER re-investigate comprehensive analysis boomerang already completed",
          "ALWAYS consume architect's strategic guidance completely",
          "ALWAYS build upon previous discoveries rather than starting from scratch"
        ],
        "methodology": "Context consumption with implementation environment preparation",
        "contextConsumption": {
          "codebaseAnalysis": "Extract and validate existing codebaseAnalysis from boomerang (technology stack, patterns, integration points)",
          "strategicGuidance": "Consume architect's strategic guidance (implementation specifics, code examples, quality constraints)",
          "environmentSetup": "Setup development environment following verified technology stack and patterns",
          "readinessValidation": "Validate implementation readiness without redundant discovery"
        },
        "validationCriteria": {
          "codebaseAnalysisAvailable": "Technology stack, patterns, and integration points from boomerang",
          "strategicGuidanceAvailable": "Implementation specifics, code examples, and quality constraints from architect",
          "implementationReadiness": "No redundant analysis required, existing context comprehensive",
          "contextConsumptionComplete": "Ready to proceed following established patterns"
        },
        "environmentSetup": {
          "gitBranchVerification": "Verify git branch matches task requirements",
          "dependencyInstallation": "Install dependencies using confirmed technology stack",
          "developmentServerValidation": "Validate development server and test functionality",
          "projectStructureConfirmation": "Confirm project structure matches verified analysis"
        }
      },
      "approachGuidance": {
        "stepByStep": [
          "Execute TaskOperations.get with comprehensive inclusion (plans, subtasks, analysis)",
          "Extract and validate existing codebaseAnalysis from boomerang (technology stack, patterns, integration points)",
          "Consume architect's strategic guidance (implementation specifics, code examples, quality constraints)",
          "Setup development environment following verified technology stack and patterns",
          "Validate implementation readiness without redundant discovery"
        ],
        "contextExtractionSteps": [
          "Call TaskOperations.get with comprehensive parameters to retrieve all context",
          "Parse codebaseAnalysis for technology stack, architecture patterns, and integration points",
          "Extract architect's strategic guidance including implementation specifics and code examples",
          "Validate that all necessary context is available for implementation"
        ],
        "environmentSetupSteps": [
          "Verify git branch matches task requirements and is clean",
          "Install dependencies using confirmed technology stack from analysis",
          "Validate development server functionality and test environment",
          "Confirm project structure matches verified analysis patterns"
        ],
        "readinessValidationSteps": [
          "Confirm codebase analysis provides sufficient implementation context",
          "Verify strategic guidance includes specific implementation details",
          "Validate environment is properly configured for implementation",
          "Ensure no redundant analysis is required to proceed"
        ]
      },
      "qualityChecklist": [
        "Complete task context retrieved including comprehensive analysis and strategic guidance",
        "Existing codebaseAnalysis consumed (technology stack, architecture, implementation context)",
        "Architect's strategic guidance applied (implementation specifics, code examples, patterns)",
        "Development environment configured using verified technology stack",
        "Implementation readiness validated without redundant analysis"
      ],
      "conditions": [],
      "actions": [
        {
          "name": "acquire_comprehensive_context",
          "actionType": "MCP_CALL",
          "actionData": {
            "serviceName": "TaskOperations",
            "operation": "get",
            "parameters": {
              "includeLevel": "comprehensive",
              "includePlans": true,
              "includeSubtasks": true,
              "includeAnalysis": true,
              "includeComments": false,
              "includeCodebaseAnalysis": true,
              "includeStrategicGuidance": true
            }
          },
          "sequenceOrder": 1
        }
      ],
      "triggerReport": true,
      "reportType": "context_consumption_and_setup",
      "reportTemplate": "mandatory_context_consumption_validation"
    },
    {
      "name": "strategic_implementation_execution_with_decision_matrix",
      "displayName": "Strategic Implementation Execution with Decision Matrix",
      "description": "Execute implementation following architectural guidance with strategic decision matrix for complex issues",
      "sequenceNumber": 2,
      "isRequired": true,
      "estimatedTime": "60-120 minutes",
      "stepType": "ACTION",
      "behavioralContext": {
        "approach": "Strategic implementation following architectural guidance with decision matrix for escalation",
        "principles": [
          "Follow architect's code examples exactly for implementation",
          "Apply SOLID principles and existing patterns consistently",
          "Use strategic decision matrix for implementation vs escalation decisions",
          "Maintain architectural consistency throughout implementation"
        ],
        "methodology": "Pattern-driven implementation with evidence-based decision making",
        "solidPrinciples": {
          "singleResponsibility": "Each class/service has one clear purpose and reason to change",
          "openClosed": "Extensible through composition and inheritance, not modification",
          "liskovSubstitution": "Derived classes substitutable for base classes without breaking functionality",
          "interfaceSegregation": "Focused interfaces with specific responsibilities and dependencies",
          "dependencyInversion": "Depend on abstractions and interfaces, not concrete implementations"
        },
        "decisionMatrix": {
          "implementDirectly": [
            "following_provided_code_examples_exactly",
            "implementing_methods_with_complete_architectural_guidance",
            "making_configuration_changes_with_clear_patterns",
            "adding_simple_functionality_following_established_examples"
          ],
          "redelegateToArchitect": [
            "multiple_implementation_approaches_possible_without_clear_guidance",
            "performance_optimization_requiring_architectural_decisions",
            "integration_patterns_not_covered_in_current_guidance",
            "service_structure_decisions_affecting_system_architecture"
          ],
          "escalateToBoomerang": [
            "acceptance_criteria_conflicts_with_implementation",
            "business_logic_unclear_or_contradictory",
            "scope_changes_discovered_during_implementation"
          ]
        },
        "validationCheckpoints": {
          "patternCompliance": "Follows discovered architectural patterns exactly",
          "technologyAlignment": "Uses established technology stack conventions",
          "errorHandling": "Implements same error handling patterns discovered",
          "dataTransformation": "Follows established conventions from analysis",
          "integrationConsistency": "Follows discovered service patterns",
          "architecturalConsistency": "Validated at each implementation step"
        }
      },
      "approachGuidance": {
        "stepByStep": [
          "Implement core functionality following architect's strategic guidance and code examples exactly",
          "Apply SOLID principles (Single Responsibility, Open/Closed, Liskov Substitution, Interface Segregation, Dependency Inversion)",
          "Use strategic decision matrix for implementation decisions: IMPLEMENT DIRECTLY vs REDELEGATE TO ARCHITECT vs ESCALATE TO BOOMERANG",
          "Maintain pattern consistency with existing codebase analysis throughout implementation",
          "Validate architectural consistency at each implementation checkpoint"
        ],
        "implementationSteps": [
          "Follow architect's code examples exactly for core functionality implementation",
          "Apply SOLID principles consistently across all code components",
          "Use established patterns from codebase analysis for consistency",
          "Implement error handling following discovered patterns"
        ],
        "decisionSteps": [
          "Apply decision matrix for complex implementation decisions",
          "Implement directly when following provided examples and clear guidance",
          "Redelegate to architect for architectural decisions not covered in guidance",
          "Escalate to boomerang for business logic conflicts or scope changes"
        ],
        "validationSteps": [
          "Validate pattern compliance at each implementation checkpoint",
          "Ensure technology alignment with established stack conventions",
          "Verify error handling follows discovered patterns",
          "Confirm architectural consistency throughout implementation"
        ]
      },
      "qualityChecklist": [
        "Implementation follows architect's strategic guidance and code examples exactly",
        "SOLID principles compliance maintained throughout all code components",
        "Strategic decision matrix applied correctly for complex implementation decisions",
        "Pattern consistency maintained with existing architectural analysis",
        "Architectural consistency validated at implementation checkpoints"
      ],
      "conditions": [
        {
          "name": "context_consumption_completed",
          "conditionType": "PREVIOUS_STEP_COMPLETED",
          "logic": {
            "check": "step_completed",
            "parameters": {
              "stepName": "mandatory_context_consumption_and_setup"
            }
          },
          "isRequired": true
        }
      ],
      "actions": [],
      "triggerReport": true,
      "reportType": "strategic_implementation_execution",
      "reportTemplate": "implementation_with_decision_matrix"
    },
    {
      "name": "comprehensive_testing_and_quality_validation",
      "displayName": "Comprehensive Testing and Quality Validation",
      "description": "Implement comprehensive testing strategy and validate quality against strategic requirements",
      "sequenceNumber": 3,
      "isRequired": true,
      "estimatedTime": "40-60 minutes",
      "stepType": "ACTION",
      "behavioralContext": {
        "approach": "Comprehensive testing with quality validation against strategic requirements and SOLID principles",
        "principles": [
          "Achieve minimum test coverage targets from quality constraints",
          "Validate SOLID principles compliance in all code components",
          "Test all success criteria and error scenarios comprehensively",
          "Verify performance targets and security requirements"
        ],
        "methodology": "Multi-layer testing with architectural quality validation",
        "testingStrategy": {
          "unitTests": "Happy path, edge cases, error scenarios with mocks and meaningful assertions",
          "integrationTests": "Service interactions, repository layer, API endpoints, data flow validation",
          "manualValidation": "Success criteria, user workflows, error scenarios, architect requirements",
          "performanceTesting": "Response times, resource usage, optimization, baseline validation"
        },
        "coverageTargets": {
          "minimumCoverage": "Quality constraints coverage requirements",
          "criticalPathCoverage": "100 percent for core business logic",
          "errorScenarioCoverage": "Comprehensive error handling validation"
        },
        "qualityGates": {
          "solidPrinciplesCompliance": "Verified for all code components",
          "performanceTargets": "Achieved within established baseline",
          "securityRequirements": "Implemented following verified patterns",
          "patternAdherence": "Maintained with architectural consistency",
          "codeQuality": "Follows strategic guidance and verified standards",
          "testingQuality": "Coverage targets met with meaningful validation"
        }
      },
      "approachGuidance": {
        "stepByStep": [
          "Implement unit tests with comprehensive coverage (happy path, edge cases, error scenarios)",
          "Create integration tests for service interactions and data flow validation",
          "Execute manual validation against architect's success criteria",
          "Validate SOLID principles compliance throughout codebase",
          "Verify performance targets and security requirements implementation",
          "Validate pattern adherence and architectural consistency"
        ],
        "testingSteps": [
          "Implement unit tests covering happy path, edge cases, and error scenarios",
          "Create integration tests for service interactions and API endpoints",
          "Execute manual validation against all architect's success criteria",
          "Perform performance testing to validate response times and resource usage"
        ],
        "validationSteps": [
          "Validate SOLID principles compliance for all implemented code components",
          "Verify performance targets are achieved within established baseline",
          "Confirm security requirements are implemented following verified patterns",
          "Validate pattern adherence and architectural consistency throughout"
        ],
        "qualitySteps": [
          "Ensure minimum coverage targets are met with meaningful assertions",
          "Validate critical path coverage is 100% for core business logic",
          "Confirm comprehensive error scenario coverage and handling",
          "Verify all quality gates are satisfied before completion"
        ]
      },
      "qualityChecklist": [
        "Unit tests achieve minimum coverage targets with meaningful assertions and error scenario testing",
        "Integration tests validate service interactions, data flow, and API endpoints functionality",
        "Manual validation confirms all architect's success criteria are met completely",
        "SOLID principles compliance verified for all implemented code components",
        "Performance targets achieved within established baseline requirements",
        "Security requirements implemented following verified patterns and standards"
      ],
      "conditions": [
        {
          "name": "implementation_execution_completed",
          "conditionType": "PREVIOUS_STEP_COMPLETED",
          "logic": {
            "check": "step_completed",
            "parameters": {
              "stepName": "strategic_implementation_execution_with_decision_matrix"
            }
          },
          "isRequired": true
        }
      ],
      "actions": [],
      "triggerReport": true,
      "reportType": "comprehensive_testing_and_quality",
      "reportTemplate": "testing_quality_validation_report"
    },
    {
      "name": "git_operations_and_workflow_delegation",
      "displayName": "MANDATORY: Git Operations and Workflow Delegation",
      "description": "Complete mandatory Git operations and delegate to code review with comprehensive context",
      "sequenceNumber": 4,
      "isRequired": true,
      "estimatedTime": "15-20 minutes",
      "stepType": "ACTION",
      "behavioralContext": {
        "approach": "MANDATORY Git operations with comprehensive delegation context and strategic implementation evidence",
        "principles": [
          "WORKFLOW STOPPER: Cannot delegate without successful Git commit operations",
          "ALWAYS verify commit success before delegation to code review",
          "ALWAYS include comprehensive strategic implementation evidence",
          "ALWAYS use task-slug for human-readable reference"
        ],
        "methodology": "Git-first completion with evidence-based delegation",
        "gitProtocol": {
          "checkStatus": "git status to verify working directory state",
          "addChanges": "git add all implementation changes",
          "commitChanges": "git commit with conventional commits descriptive message",
          "verifyCommit": "git log to verify commit success and clean state"
        },
        "commitMessageStandards": {
          "feat": "New feature implementation following architectural guidance",
          "fix": "Bug fixes and corrections following existing patterns",
          "refactor": "Code improvements maintaining architectural consistency",
          "test": "Test additions following comprehensive testing strategy",
          "docs": "Documentation updates reflecting implementation changes"
        },
        "evidenceCategories": {
          "architecturalGuidanceImplementation": "Root cause solved, pattern compliance, elegant implementation",
          "implementationSpecificsCompleted": "Files modified, methods implemented, pattern references followed",
          "technologyStackCompliance": "Technology alignment, project structure, integration, performance",
          "qualityConstraintsSatisfied": "Pattern compliance, performance targets, quality gates, anti-pattern avoidance",
          "gitOperationsCompleted": "Changes committed, verified, working directory clean"
        }
      },
      "approachGuidance": {
        "stepByStep": [
          "Execute mandatory Git operations protocol (status check, add all changes, commit with descriptive message)",
          "Verify commit success and clean working directory state",
          "Document strategic implementation completion with comprehensive evidence",
          "Prepare delegation context with architectural guidance compliance and quality validation",
          "Execute delegation to code review with task-slug and implementation evidence",
          "Include Git context (commit hash, message, working directory status) in delegation"
        ],
        "gitOperationSteps": [
          "Check git status to verify working directory state",
          "Add all implementation changes using git add",
          "Commit changes with conventional commits descriptive message",
          "Verify commit success and clean working directory state"
        ],
        "evidenceDocumentationSteps": [
          "Document architectural guidance implementation with root cause solved",
          "Record implementation specifics completed with files and methods",
          "Validate technology stack compliance and integration",
          "Confirm quality constraints satisfied and anti-patterns avoided"
        ],
        "delegationSteps": [
          "Prepare comprehensive delegation context with implementation evidence",
          "Execute WorkflowOperations.delegate to code review with task-slug",
          "Include strategic implementation context and evidence",
          "Provide git context with commit hash, message, and status"
        ]
      },
      "qualityChecklist": [
        "Git operations completed successfully (add, commit, verify) with clean working directory",
        "Commit message follows conventional commits standard with descriptive implementation details",
        "Strategic implementation evidence documented with architectural guidance compliance",
        "Delegation context includes comprehensive quality validation and testing results",
        "Task-slug included for human-readable reference and tracking",
        "Git context (commit hash, message, status) included in delegation for code review"
      ],
      "conditions": [
        {
          "name": "testing_and_quality_validated",
          "conditionType": "PREVIOUS_STEP_COMPLETED",
          "logic": {
            "check": "step_completed",
            "parameters": {
              "stepName": "comprehensive_testing_and_quality_validation"
            }
          },
          "isRequired": true
        }
      ],
      "actions": [
        {
          "name": "delegate_to_code_review",
          "actionType": "MCP_CALL",
          "actionData": {
            "serviceName": "WorkflowOperations",
            "operation": "delegate",
            "parameters": {
              "taskSlug": "{{task_slug}}",
              "fromRole": "senior-developer",
              "toRole": "code-review",
              "message": "Strategic implementation completed for task [{{task_slug}}] following comprehensive architectural guidance and discovered project patterns. All changes committed (commit: {{commit_hash}}) and ready for validation.",
              "strategicImplementationContext": {
                "architecturalGuidanceFollowed": true,
                "patternConsistencyMaintained": true,
                "technicalDebtEliminated": true,
                "elegantSolutionDelivered": true,
                "qualityGatesValidated": true,
                "solidPrinciplesCompliant": true,
                "gitOperationsCompleted": true
              },
              "implementationEvidence": {
                "rootCauseSolved": "{{problem_solved_following_architectural_guidance}}",
                "patternEnhancement": "{{implementation_enhanced_following_discovered_patterns}}",
                "architecturalCompliance": "{{implementation_follows_discovered_patterns_exactly}}",
                "qualityAssurance": "{{comprehensive_validation_against_strategic_requirements}}",
                "technologyCompliance": "{{technology_stack_conventions_respected_throughout}}"
              },
              "gitContext": {
                "commitHash": "{{commit_hash}}",
                "commitMessage": "{{commit_message}}",
                "workingDirectoryStatus": "clean",
                "changesCommitted": true
              }
            }
          },
          "sequenceOrder": 1
        }
      ],
      "triggerReport": true,
      "reportType": "strategic_implementation_completion_and_delegation",
      "reportTemplate": "git_operations_and_code_review_delegation"
    }
  ]
}
